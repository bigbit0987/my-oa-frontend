{
  "form": {
    "layout": "horizontal",
    "labelCol": 6,
    "wrapperCol": 12,
    "labelAlign": "left",
    "colon": false,
    "style": {
      "margin": "0px",
      "padding": "10px 24px 10px 24px"
    }
  },
  "schema": {
    "type": "object",
    "properties": {
      "tableLayout": {
        "type": "void",
        "x-component": "FormLayout",
        "x-component-props": {
          "style": {
            "padding": "10px",
            "boxShadow": "2px 1px 5px 4px rgba(0, 0, 0, 0.1)",
            "borderRadius": "6px"
          }
        },
        "name": "tableLayout",
        "x-designable-id": "archiving_layout",
        "x-index": 0,
        "properties": {
          "header": {
            "type": "void",
            "x-component": "Text",
            "x-component-props": {
              "content": "项目归档移交记录清单",
              "mode": "h1",
              "style": {
                "textAlign": "center",
                "fontFamily": "arial black,sans-serif",
                "fontSize": "24px",
                "margin": "10px 0"
              }
            },
            "name": "header",
            "x-designable-id": "archiving_header",
            "x-index": 0
          },
          "applicantInfoGrid": {
            "type": "void",
            "x-component": "FormGrid",
            "x-component-props": {
              "maxColumns": 3,
              "style": {
                "margin": "10px 0"
              }
            },
            "name": "applicantInfoGrid",
            "x-designable-id": "applicant_info_grid",
            "x-index": 1,
            "properties": {
              "applicantId": {
                "type": "string",
                "title": "申请人",
                "x-decorator": "FormItem",
                "x-component": "Select",
                "x-dynamic-data": {
                  "type": "user"
                },
                "x-component-props": {
                  "placeholder": "请选择申请人",
                  "showSearch": true
                },
                "name": "applicantId",
                "x-designable-id": "applicant_id_field",
                "x-index": 0
              },
              "deptId": {
                "type": "string",
                "title": "所属部门",
                "x-decorator": "FormItem",
                "x-component": "Select",
                "x-dynamic-data": {
                  "type": "dept"
                },
                "x-component-props": {
                  "placeholder": "请选择部门",
                  "showSearch": true
                },
                "name": "deptId",
                "x-designable-id": "dept_id_field",
                "x-index": 1
              },
              "applyTime": {
                "type": "string",
                "title": "申请时间",
                "x-decorator": "FormItem",
                "x-component": "DatePicker",
                "x-component-props": {
                  "readOnly": true
                },
                "name": "applyTime",
                "x-designable-id": "apply_time_field",
                "x-index": 2
              }
            }
          },
          "baseInfo": {
            "type": "void",
            "x-component": "Card",
            "x-component-props": {
              "title": "项目基本信息",
              "size": "small",
              "bordered": true,
              "styles": {
                "header": {
                  "paddingTop": "0px",
                  "paddingBottom": "0px",
                  "minHeight": "auto",
                  "textAlign": "center",
                  "backgroundColor": "rgb(200, 221, 252)",
                  "fontSize": "16px"
                }
              },
              "style": {
                "marginTop": "10px"
              }
            },
            "name": "baseInfo",
            "x-designable-id": "archiving_baseinfo",
            "x-index": 2,
            "properties": {
              "grid": {
                "type": "void",
                "x-component": "FormGrid",
                "x-component-props": {
                  "maxColumns": 4,
                  "columnGap": 10,
                  "rowGap": 0
                },
                "name": "grid",
                "x-designable-id": "archiving_grid",
                "x-index": 0,
                "properties": {
                  "projectId": {
                    "type": "string",
                    "title": "项目名称",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 4
                    },
                    "x-component": "Select",
                    "x-dynamic-data": {
                      "type": "project"
                    },
                    "x-component-props": {
                      "placeholder": "请选择项目",
                      "showSearch": true,
                      "filterOption": true,
                      "optionFilterProp": "label"
                    },
                    "x-validator": [
                      {
                        "required": true,
                        "message": "请选择项目"
                      }
                    ],
                    "name": "projectId",
                    "x-designable-id": "archiving_project_id",
                    "x-index": 0,
                    "x-reactions": [
                      {
                        "dependencies": [],
                        "fulfill": {
                          "run": "\n                            if (!$self.value) return;\n                            const projectId = $self.value;\n                            $form.$http.get('/api/v1/forms/data/project/' + projectId)\n                              .then(res => {\n                                const data = res.data || {};\n                                $form.setFieldState('projectNumber', state => { state.value = data.projectNumber || ''; });\n                                $form.setFieldState('projectLevelKey', state => { state.value = data.projectLevelKey || ''; });\n                                $form.setFieldState('responsibleDeptId', state => { state.value = data.responsibleDeptId ? String(data.responsibleDeptId) : ''; });\n                                $form.setFieldState('projectManagerId', state => { state.value = data.projectManagerId ? String(data.projectManagerId) : ''; });\n                                $form.setFieldState('controlLevelKey', state => { state.value = data.controlLevelKey || ''; });\n                              })\n                              .catch(err => { console.error('加载项目详情失败:', err); });\n                          "
                        }
                      }
                    ]
                  },
                  "projectNumber": {
                    "type": "string",
                    "title": "项目编号",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 1
                    },
                    "x-component": "Input",
                    "x-pattern": "readPretty",
                    "name": "projectNumber",
                    "x-designable-id": "archiving_project_num",
                    "x-index": 1,
                    "x-component-props": {}
                  },
                  "projectLevelKey": {
                    "type": "string",
                    "title": "项目分级",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 1
                    },
                    "x-component": "Select",
                    "x-dynamic-data": {
                      "type": "dict",
                      "dictKey": "project_level"
                    },
                    "x-pattern": "readPretty",
                    "name": "projectLevelKey",
                    "x-designable-id": "archiving_project_level",
                    "x-index": 2,
                    "x-component-props": {}
                  },
                  "responsibleDeptId": {
                    "type": "string",
                    "title": "承担部门",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 1
                    },
                    "x-component": "Select",
                    "x-dynamic-data": {
                      "type": "dept"
                    },
                    "x-pattern": "readPretty",
                    "name": "responsibleDeptId",
                    "x-designable-id": "archiving_dept",
                    "x-index": 3,
                    "x-component-props": {}
                  },
                  "projectManagerId": {
                    "type": "string",
                    "title": "项目负责人",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 1
                    },
                    "x-component": "Select",
                    "x-dynamic-data": {
                      "type": "user"
                    },
                    "x-pattern": "readPretty",
                    "name": "projectManagerId",
                    "x-designable-id": "archiving_project_mgr",
                    "x-index": 4,
                    "x-component-props": {}
                  },
                  "controlLevelKey": {
                    "type": "string",
                    "title": "流程管控强度",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 1
                    },
                    "x-component": "Select",
                    "x-dynamic-data": {
                      "type": "dict",
                      "dictKey": "control_level"
                    },
                    "x-pattern": "readPretty",
                    "name": "controlLevelKey",
                    "x-designable-id": "archiving_control_level",
                    "x-index": 5,
                    "x-component-props": {}
                  },
                  "archiveCompleteTime": {
                    "type": "string",
                    "title": "归档移交完成时间",
                    "x-decorator": "FormItem",
                    "x-decorator-props": {
                      "gridSpan": 1
                    },
                    "x-component": "DatePicker",
                    "x-component-props": {
                      "format": "",
                      "showTime": true,
                      "placeholder": "选择归档完成时间"
                    },
                    "name": "archiveCompleteTime",
                    "x-designable-id": "archiving_finish_time",
                    "x-index": 6,
                    "x-validator": []
                  }
                }
              }
            }
          },
          "transferList": {
            "type": "void",
            "x-component": "Card",
            "x-component-props": {
              "title": "文件移交清单 (全流程文档)",
              "size": "small",
              "styles": {
                "header": {
                  "paddingTop": "0px",
                  "paddingBottom": "0px",
                  "minHeight": "auto",
                  "textAlign": "center",
                  "backgroundColor": "rgb(200, 221, 252)",
                  "fontSize": "16px"
                }
              },
              "style": {
                "marginTop": "10px"
              }
            },
            "name": "transferList",
            "x-designable-id": "archiving_transfer_list",
            "x-index": 3,
            "properties": {
              "fileList": {
                "type": "array",
                "x-component": "ArrayTable",
                "x-component-props": {
                  "bordered": true,
                  "pagination": false
                },
                "name": "fileList",
                "x-designable-id": "archiving_file_list",
                "x-index": 0,
                "items": {
                  "type": "object",
                  "x-designable-id": "d3bq94pjbab",
                  "properties": {
                    "col_sort": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "排序",
                        "width": 60,
                        "align": "center"
                      },
                      "x-index": 0,
                      "name": "col_sort",
                      "x-designable-id": "t9h25ga4zbn",
                      "properties": {
                        "sortHandle": {
                          "type": "void",
                          "x-component": "ArrayTable.SortHandle",
                          "name": "sortHandle",
                          "x-designable-id": "9db23jv2b37",
                          "x-index": 0
                        }
                      }
                    },
                    "col_index": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "序号",
                        "width": 60,
                        "align": "center"
                      },
                      "x-index": 1,
                      "name": "col_index",
                      "x-designable-id": "fl0vuvk6gk1",
                      "properties": {
                        "indexValue": {
                          "type": "void",
                          "x-component": "ArrayTable.Index",
                          "name": "indexValue",
                          "x-designable-id": "lck82a2haq6",
                          "x-index": 0
                        }
                      }
                    },
                    "col_owner": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "附件归属",
                        "width": 150
                      },
                      "x-index": 2,
                      "name": "col_owner",
                      "x-designable-id": "xkhclmbycvw",
                      "properties": {
                        "owner": {
                          "type": "string",
                          "x-component": "Input",
                          "x-decorator": "FormItem",
                          "x-component-props": {
                            "placeholder": "输入附件归属"
                          },
                          "name": "owner",
                          "x-designable-id": "fras7yn4oiv",
                          "x-index": 0
                        }
                      }
                    },
                    "col_filename": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "文件名",
                        "width": 200
                      },
                      "x-index": 3,
                      "name": "col_filename",
                      "x-designable-id": "bx7wa4y411d",
                      "properties": {
                        "filename": {
                          "type": "string",
                          "x-component": "Input",
                          "x-decorator": "FormItem",
                          "x-component-props": {
                            "placeholder": "输入文件名"
                          },
                          "name": "filename",
                          "x-designable-id": "xnz4gha0eme",
                          "x-index": 0
                        }
                      }
                    },
                    "col_file": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "附件",
                        "width": 200
                      },
                      "x-index": 4,
                      "name": "col_file",
                      "x-designable-id": "77uzzy004xf",
                      "properties": {
                        "file": {
                          "type": "array",
                          "x-component": "Upload",
                          "x-decorator": "FormItem",
                          "x-component-props": {
                            "textContent": "上传文件"
                          },
                          "name": "file",
                          "x-designable-id": "mubn8hb1gyc",
                          "x-index": 0
                        }
                      }
                    },
                    "col_paperCount": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "纸质份数",
                        "width": 100,
                        "align": "center"
                      },
                      "x-index": 5,
                      "name": "col_paperCount",
                      "x-designable-id": "pg4jwwssb43",
                      "properties": {
                        "paperCount": {
                          "type": "number",
                          "x-component": "NumberPicker",
                          "x-decorator": "FormItem",
                          "x-component-props": {
                            "min": 0,
                            "style": {
                              "width": "100%"
                            }
                          },
                          "name": "paperCount",
                          "x-designable-id": "j0ya7lyfgqh",
                          "x-index": 0
                        }
                      }
                    },
                    "col_isArchived": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "是否归档",
                        "width": 80,
                        "align": "center"
                      },
                      "x-index": 6,
                      "name": "col_isArchived",
                      "x-designable-id": "f2ola8kq537",
                      "properties": {
                        "isArchived": {
                          "type": "boolean",
                          "x-component": "Checkbox",
                          "x-decorator": "FormItem",
                          "name": "isArchived",
                          "x-designable-id": "65s7ji1gk8m",
                          "x-index": 0
                        }
                      }
                    },
                    "col_remark": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "备注",
                        "width": 150
                      },
                      "x-index": 7,
                      "name": "col_remark",
                      "x-designable-id": "9qxfxy0rawk",
                      "properties": {
                        "remark": {
                          "type": "string",
                          "x-component": "Input",
                          "x-decorator": "FormItem",
                          "x-component-props": {
                            "placeholder": "备注"
                          },
                          "name": "remark",
                          "x-designable-id": "s653156a5zm",
                          "x-index": 0
                        }
                      }
                    },
                    "col_operations": {
                      "type": "void",
                      "x-component": "ArrayTable.Column",
                      "x-component-props": {
                        "title": "操作",
                        "width": 80,
                        "align": "center"
                      },
                      "x-index": 8,
                      "name": "col_operations",
                      "x-designable-id": "clu5i68yvux",
                      "properties": {
                        "remove": {
                          "type": "void",
                          "x-component": "ArrayTable.Remove",
                          "name": "remove",
                          "x-designable-id": "u41uxln9rr3",
                          "x-index": 0
                        }
                      }
                    }
                  }
                },
                "properties": {
                  "addBtn": {
                    "type": "void",
                    "x-component": "ArrayTable.Addition",
                    "x-component-props": {
                      "title": "添加文件"
                    },
                    "name": "addBtn",
                    "x-designable-id": "zy1f7mh71dq",
                    "x-index": 0
                  }
                }
              }
            }
          },
          "confirm": {
            "type": "void",
            "x-component": "Card",
            "x-component-props": {
              "title": "归档确认",
              "size": "small",
              "styles": {
                "header": {
                  "paddingTop": "0px",
                  "paddingBottom": "0px",
                  "minHeight": "auto",
                  "textAlign": "center",
                  "backgroundColor": "rgb(200, 221, 252)",
                  "fontSize": "16px"
                }
              },
              "style": {
                "marginTop": "10px"
              }
            },
            "name": "confirm",
            "x-designable-id": "archiving_confirm",
            "x-index": 4,
            "properties": {
              "mgrConfirm": {
                "type": "string",
                "title": "项目负责人确认",
                "x-decorator": "FormItem",
                "x-component": "Input.TextArea",
                "x-component-props": {
                  "placeholder": "请再次确认纸质归档文件信息，确认后提交流程，并将纸质文件送交信息中心归档。",
                  "rows": 3
                },
                "x-decorator-props": {
                  "labelCol": 4,
                  "wrapperCol": 20
                },
                "name": "mgrConfirm",
                "x-designable-id": "archiving_mgr_confirm",
                "x-index": 0,
                "x-validator": []
              },
              "infoCenterConfirm": {
                "type": "string",
                "title": "信息中心确认",
                "x-decorator": "FormItem",
                "x-component": "Input.TextArea",
                "x-component-props": {
                  "placeholder": "信息中心确认意见",
                  "rows": 3
                },
                "x-decorator-props": {
                  "labelCol": 4,
                  "wrapperCol": 20
                },
                "name": "infoCenterConfirm",
                "x-designable-id": "archiving_info_confirm",
                "x-index": 1
              }
            }
          }
        }
      }
    },
    "x-designable-id": "8rnoil363wx"
  }
}