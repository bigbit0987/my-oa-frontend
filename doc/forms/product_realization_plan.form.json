{
    "form": {
        "layout": "horizontal",
        "labelCol": 6,
        "wrapperCol": 12,
        "labelAlign": "left",
        "style": {
            "margin": "0px 0px 0px 0px",
            "borderRadius": "0px 0px 0px 0px",
            "padding": "10px 24px 10px 24px",
            "backgroundColor": "",
            "height": "inherit",
            "width": "inherit"
        },
        "colon": false
    },
    "schema": {
        "type": "object",
        "properties": {
            "tableLayout": {
                "type": "void",
                "x-component": "FormLayout",
                "x-component-props": {
                    "style": {
                        "borderRadius": "6px 6px 6px 6px",
                        "boxShadow": "2px 1px 5px 4px rgba(0, 0, 0, 0.1)",
                        "padding": "5px 5px 5px 5px",
                        "margin": "0px 0px 0px 0px"
                    }
                },
                "name": "tableLayout",
                "x-designable-id": "f5f0b5k3jti",
                "x-index": 0,
                "properties": {
                    "tableHeader": {
                        "type": "string",
                        "x-component": "Text",
                        "x-component-props": {
                            "content": "产品实现策划表",
                            "mode": "h1",
                            "style": {
                                "display": "block",
                                "fontFamily": "arial black,sans-serif",
                                "margin": "10px 0px 0px 0px",
                                "padding": "10px 0px 0px 0px",
                                "textAlign": "center"
                            }
                        },
                        "name": "tableHeader",
                        "x-designable-id": "uk2aovhpj7y",
                        "x-index": 0
                    },
                    "applicantInfoGrid": {
                        "type": "void",
                        "x-component": "FormGrid",
                        "x-component-props": {
                            "maxColumns": 3,
                            "style": {
                                "margin": "10px 0"
                            }
                        },
                        "name": "applicantInfoGrid",
                        "x-designable-id": "applicant_info_grid",
                        "x-index": 1,
                        "properties": {
                            "applicantId": {
                                "type": "string",
                                "title": "申请人",
                                "x-decorator": "FormItem",
                                "x-component": "Select",
                                "x-dynamic-data": {
                                    "type": "user"
                                },
                                "x-component-props": {
                                    "placeholder": "请选择申请人",
                                    "showSearch": true
                                },
                                "name": "applicantId",
                                "x-designable-id": "applicant_id_field",
                                "x-index": 0
                            },
                            "deptId": {
                                "type": "string",
                                "title": "所属部门",
                                "x-decorator": "FormItem",
                                "x-component": "Select",
                                "x-dynamic-data": {
                                    "type": "dept"
                                },
                                "x-component-props": {
                                    "placeholder": "请选择部门",
                                    "showSearch": true
                                },
                                "name": "deptId",
                                "x-designable-id": "dept_id_field",
                                "x-index": 1
                            },
                            "applyTime": {
                                "type": "string",
                                "title": "申请时间",
                                "x-decorator": "FormItem",
                                "x-component": "DatePicker",
                                "x-component-props": {
                                    "readOnly": true
                                },
                                "name": "applyTime",
                                "x-designable-id": "apply_time_field",
                                "x-index": 2
                            }
                        }
                    },
                    "basicInfoSection": {
                        "type": "void",
                        "x-component": "Card",
                        "x-component-props": {
                            "title": "项目基本信息",
                            "size": "small",
                            "styles": {
                                "header": {
                                    "paddingTop": "0px",
                                    "paddingBottom": "0px",
                                    "minHeight": "auto",
                                    "textAlign": "center",
                                    "backgroundColor": "rgb(200, 221, 252)",
                                    "fontSize": "16px"
                                }
                            },
                            "style": {
                                "margin": "10px 0px 0px 0px"
                            }
                        },
                        "name": "basicInfoSection",
                        "x-designable-id": "qr96s6xcrin",
                        "x-index": 2,
                        "properties": {
                            "basicInfoGrid": {
                                "type": "void",
                                "x-component": "FormGrid",
                                "x-component-props": {
                                    "maxColumns": 4,
                                    "columnGap": 10,
                                    "rowGap": 0
                                },
                                "name": "basicInfoGrid",
                                "x-designable-id": "h8t098orz94",
                                "x-index": 0,
                                "properties": {
                                    "projectId": {
                                        "type": "string",
                                        "title": "项目名称",
                                        "x-decorator": "FormItem",
                                        "x-decorator-props": {
                                            "gridSpan": 4
                                        },
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "project"
                                        },
                                        "x-component-props": {
                                            "placeholder": "请选择项目",
                                            "showSearch": true,
                                            "filterOption": true,
                                            "optionFilterProp": "label"
                                        },
                                        "x-validator": [
                                            {
                                                "required": true,
                                                "message": "请选择项目"
                                            }
                                        ],
                                        "name": "projectId",
                                        "x-designable-id": "b5w0ker26kq",
                                        "x-index": 0,
                                        "x-reactions": [
                                            {
                                                "dependencies": [],
                                                "fulfill": {
                                                    "run": "\n                            if (!$self.value) return;\n                            const projectId = $self.value;\n                            $form.$http.get('/api/v1/forms/data/project/' + projectId)\n                              .then(res => {\n                                const data = res.data || {};\n                                $form.setFieldState('projectNumber', state => { state.value = data.projectNumber || ''; });\n                                $form.setFieldState('projectManagerId', state => { state.value = data.projectManagerId ? String(data.projectManagerId) : ''; });\n                                $form.setFieldState('responsibleDeptId', state => { state.value = data.responsibleDeptId ? String(data.responsibleDeptId) : ''; });\n                                $form.setFieldState('projectLevelKey', state => { state.value = data.projectLevelKey || ''; });\n                                $form.setFieldState('controlLevelKey', state => { state.value = data.controlLevelKey || ''; });\n                                $form.setFieldState('projectTypeKey', state => { state.value = data.projectTypeKey || ''; });\n                                $form.setFieldState('projectSourceKey', state => { state.value = data.projectSourceKey || ''; });\n                                $form.setFieldState('importanceKey', state => { state.value = data.importanceKey || ''; });\n                                $form.setFieldState('projectSupervisorId', state => { state.value = data.projectSupervisorId ? String(data.projectSupervisorId) : ''; });\n                                $form.setFieldState('projectAuditorId', state => { state.value = data.projectAuditorId ? String(data.projectAuditorId) : ''; });\n                              })\n                              .catch(err => { console.error('加载项目详情失败:', err); });\n                          "
                                                }
                                            }
                                        ]
                                    },
                                    "projectNumber": {
                                        "type": "string",
                                        "title": "项目编号",
                                        "x-decorator": "FormItem",
                                        "x-decorator-props": {
                                            "gridSpan": 1
                                        },
                                        "x-component": "Input",
                                        "name": "projectNumber",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "8frqkwyrgkq",
                                        "x-index": 1,
                                        "x-validator": [],
                                        "x-component-props": {}
                                    },
                                    "projectTypeKey": {
                                        "type": "string",
                                        "title": "项目类型",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "dict",
                                            "dictKey": "project_type"
                                        },
                                        "name": "projectTypeKey",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "3lszhbleeaq",
                                        "x-index": 2,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "controlLevelKey": {
                                        "type": "string",
                                        "title": "流程管控强度",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "dict",
                                            "dictKey": "control_level"
                                        },
                                        "name": "controlLevelKey",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "lgq8u4tl8vi",
                                        "x-index": 3,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "projectSourceKey": {
                                        "type": "string",
                                        "title": "项目来源",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "dict",
                                            "dictKey": "project_source"
                                        },
                                        "name": "projectSourceKey",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "k4a6jzenpp9",
                                        "x-index": 4,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "importanceKey": {
                                        "type": "string",
                                        "title": "重要程度",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "dict",
                                            "dictKey": "importance_level"
                                        },
                                        "name": "importanceKey",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "y1ohghtlam8",
                                        "x-index": 5,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "projectLevelKey": {
                                        "type": "string",
                                        "title": "项目分级",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "dict",
                                            "dictKey": "project_level"
                                        },
                                        "name": "projectLevelKey",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "ssi83jpvhdn",
                                        "x-index": 6,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "projectManagerId": {
                                        "type": "string",
                                        "title": "项目负责人",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "user"
                                        },
                                        "name": "projectManagerId",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "ihmwm4hofxz",
                                        "x-index": 7,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "projectSupervisorId": {
                                        "type": "string",
                                        "title": "项目主管",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "user"
                                        },
                                        "name": "projectSupervisorId",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "0a98b7donxy",
                                        "x-index": 8,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "responsibleDeptId": {
                                        "type": "string",
                                        "title": "承担部门",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "dept"
                                        },
                                        "name": "responsibleDeptId",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "weh2s0xp74e",
                                        "x-index": 9,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "projectAuditorId": {
                                        "type": "string",
                                        "title": "项目审核",
                                        "x-decorator": "FormItem",
                                        "x-component": "Select",
                                        "x-dynamic-data": {
                                            "type": "user"
                                        },
                                        "name": "projectAuditorId",
                                        "x-pattern": "readPretty",
                                        "x-designable-id": "wumbrx7w26t",
                                        "x-index": 10,
                                        "x-validator": [],
                                        "x-component-props": {},
                                        "x-decorator-props": {}
                                    },
                                    "planningCompleteTime": {
                                        "type": "string",
                                        "title": "策划完成时间",
                                        "x-decorator": "FormItem",
                                        "x-component": "DatePicker",
                                        "name": "planningCompleteTime",
                                        "x-component-props": {
                                            "format": "YYYY-MM-DD HH:mm:ss"
                                        },
                                        "x-designable-id": "mbm0inp93qb",
                                        "x-index": 11
                                    },
                                    "planningCount": {
                                        "type": "number",
                                        "title": "策划次数",
                                        "x-decorator": "FormItem",
                                        "x-component": "NumberPicker",
                                        "name": "planningCount",
                                        "x-designable-id": "hk6woys42rl",
                                        "x-index": 12
                                    }
                                }
                            }
                        }
                    },
                    "vClassProcessSection": {
                        "type": "void",
                        "x-component": "Card",
                        "x-component-props": {
                            "title": "所内自主判断(仅适用于V类流程)",
                            "size": "small",
                            "styles": {
                                "header": {
                                    "paddingTop": "0px",
                                    "paddingBottom": "0px",
                                    "textAlign": "center",
                                    "backgroundColor": "rgb(200, 221, 252)",
                                    "fontSize": "16px"
                                }
                            }
                        },
                        "name": "vClassProcessSection",
                        "x-designable-id": "z1ail3n3w77",
                        "x-index": 3,
                        "properties": {
                            "vClassGrid": {
                                "type": "void",
                                "x-component": "FormGrid",
                                "x-component-props": {
                                    "maxColumns": 2,
                                    "columnGap": 10
                                },
                                "name": "vClassGrid",
                                "x-designable-id": "8d92u75d8se",
                                "x-index": 0,
                                "x-validator": [],
                                "properties": {
                                    "isSkipStage": {
                                        "type": "string",
                                        "title": "是否跳过此阶段",
                                        "x-decorator": "FormItem",
                                        "x-component": "Radio.Group",
                                        "x-component-props": {
                                            "options": [
                                                {
                                                    "label": "是",
                                                    "value": "yes"
                                                },
                                                {
                                                    "label": "否",
                                                    "value": "no"
                                                }
                                            ]
                                        },
                                        "name": "isSkipStage",
                                        "default": "no",
                                        "x-designable-id": "u23kq0b0f6s",
                                        "x-index": 0,
                                        "x-validator": [],
                                        "x-decorator-props": {
                                            "gridSpan": -1
                                        }
                                    },
                                    "placeholder1": {
                                        "type": "void",
                                        "x-component": "FormGrid.GridColumn",
                                        "name": "placeholder1",
                                        "x-designable-id": "pcgxfqfzubi",
                                        "x-index": 1,
                                        "properties": {
                                            "approvalWarning": {
                                                "type": "void",
                                                "x-component": "Text",
                                                "x-component-props": {
                                                    "content": "注意:填写跳过原因与领导审批不能为同一人!(当所领导同时为项目负责人时,需特别注意)",
                                                    "style": {
                                                        "color": "red",
                                                        "fontSize": "12px",
                                                        "marginBottom": "10px"
                                                    }
                                                },
                                                "x-decorator": "FormItem",
                                                "x-reactions": {
                                                    "dependencies": [
                                                        "isSkipStage"
                                                    ],
                                                    "fulfill": {
                                                        "state": {
                                                            "visible": "{{$deps[0] === 'yes'}}"
                                                        }
                                                    }
                                                },
                                                "name": "approvalWarning",
                                                "x-designable-id": "ngk0d18ea4s",
                                                "x-index": 0,
                                                "x-decorator-props": {
                                                    "gridSpan": null
                                                }
                                            }
                                        }
                                    },
                                    "skipReason": {
                                        "type": "string",
                                        "title": "跳过原因",
                                        "x-decorator": "FormItem",
                                        "x-component": "Input.TextArea",
                                        "x-decorator-props": {
                                            "gridSpan": 2
                                        },
                                        "name": "skipReason",
                                        "x-reactions": {
                                            "dependencies": [
                                                "isSkipStage"
                                            ],
                                            "fulfill": {
                                                "state": {
                                                    "visible": "{{$deps[0] === 'yes'}}"
                                                }
                                            }
                                        },
                                        "x-designable-id": "bl0gzfre8k5",
                                        "x-index": 2,
                                        "x-validator": [],
                                        "x-component-props": {}
                                    },
                                    "leaderApprovalId": {
                                        "type": "string",
                                        "title": "领导审批",
                                        "x-decorator": "FormItem",
                                        "x-component": "Input.TextArea",
                                        "name": "leaderApprovalId",
                                        "x-component-props": {
                                            "rows": 4,
                                            "placeholder": "由(项目主管/所长)填写"
                                        },
                                        "x-reactions": {
                                            "dependencies": [
                                                "isSkipStage"
                                            ],
                                            "fulfill": {
                                                "state": {
                                                    "visible": "{{$deps[0] === 'yes'}}"
                                                }
                                            }
                                        },
                                        "x-designable-id": "s151kzrr991",
                                        "x-index": 3,
                                        "x-validator": [],
                                        "x-decorator-props": {
                                            "gridSpan": 2
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "planningContentSection": {
                        "type": "void",
                        "x-component": "Card",
                        "x-component-props": {
                            "title": "策划内容",
                            "size": "small",
                            "styles": {
                                "header": {
                                    "paddingTop": "0px",
                                    "paddingBottom": "0px",
                                    "textAlign": "center",
                                    "backgroundColor": "rgb(200, 221, 252)",
                                    "fontSize": "16px"
                                }
                            }
                        },
                        "name": "planningContentSection",
                        "x-designable-id": "vjnhxhvq2dz",
                        "x-index": 4,
                        "properties": {
                            "planningGuidelines": {
                                "type": "void",
                                "x-component": "Text",
                                "x-component-props": {
                                    "content": "1.根据本项目合同,重要项目或大型项目应制定质量目标和技术方案(流程图);\n2.确定本项目实现所需的人力资源、过程及控制文件;\n3.加强过程的监视和检查、各阶段验证,明确本项目的接收准则(验收标准和依据);\n4.做好本项目质量记录。",
                                    "style": {
                                        "whiteSpace": "pre-wrap",
                                        "padding": "10px",
                                        "backgroundColor": "#f5f5f5",
                                        "borderRadius": "4px",
                                        "marginBottom": "15px",
                                        "display": "block"
                                    }
                                },
                                "name": "planningGuidelines",
                                "x-designable-id": "o81em20jskd",
                                "x-index": 0
                            },
                            "planningContentGrid": {
                                "type": "void",
                                "x-component": "FormGrid",
                                "x-component-props": {
                                    "maxColumns": 1
                                },
                                "name": "planningContentGrid",
                                "x-designable-id": "sa0lp987w5t",
                                "x-index": 1,
                                "properties": {
                                    "hasAttachments": {
                                        "type": "string",
                                        "title": "是否有相关附件",
                                        "x-decorator": "FormItem",
                                        "x-component": "Radio.Group",
                                        "x-component-props": {
                                            "options": [
                                                {
                                                    "label": "有",
                                                    "value": "yes"
                                                },
                                                {
                                                    "label": "无",
                                                    "value": "no"
                                                }
                                            ]
                                        },
                                        "name": "hasAttachments",
                                        "default": "no",
                                        "x-designable-id": "rlixufoeqdp",
                                        "x-validator": [],
                                        "x-decorator-props": {},
                                        "x-index": 0
                                    },
                                    "relatedAttachments": {
                                        "type": "array",
                                        "title": "相关附件",
                                        "x-decorator": "FormItem",
                                        "x-component": "Upload",
                                        "x-component-props": {
                                            "textContent": "点击上传策划相关文件"
                                        },
                                        "name": "relatedAttachments",
                                        "x-reactions": {
                                            "dependencies": [
                                                "hasAttachments"
                                            ],
                                            "fulfill": {
                                                "state": {
                                                    "visible": "{{$deps[0] === 'yes'}}"
                                                }
                                            }
                                        },
                                        "x-designable-id": "lzs7zo4ogyz",
                                        "x-validator": [],
                                        "x-decorator-props": {},
                                        "x-index": 1
                                    },
                                    "relatedInstructions": {
                                        "type": "string",
                                        "title": "相关说明",
                                        "x-decorator": "FormItem",
                                        "x-component": "Input.TextArea",
                                        "name": "relatedInstructions",
                                        "x-designable-id": "5pls6a7vll0",
                                        "x-index": 2
                                    }
                                }
                            }
                        }
                    },
                    "preGuidanceSection": {
                        "type": "void",
                        "x-component": "Card",
                        "x-component-props": {
                            "title": "事前指导",
                            "size": "small",
                            "styles": {
                                "header": {
                                    "paddingTop": "0px",
                                    "paddingBottom": "0px",
                                    "textAlign": "center",
                                    "backgroundColor": "rgb(200, 221, 252)",
                                    "fontSize": "16px"
                                }
                            }
                        },
                        "name": "preGuidanceSection",
                        "x-designable-id": "2jg1n9hg2de",
                        "x-index": 5,
                        "properties": {
                            "guidanceNote": {
                                "type": "void",
                                "x-component": "Text",
                                "x-component-props": {
                                    "content": "(注:设有项目主管的项目事前指导一般由项目主管填写,无项目主管的项目事前指导由所领导填写。事前指导的实施在院审时验证。)",
                                    "style": {
                                        "color": "#999",
                                        "fontSize": "12px",
                                        "marginBottom": "5px",
                                        "display": "block"
                                    }
                                },
                                "name": "guidanceNote",
                                "x-designable-id": "mdq74i0hsq1",
                                "x-index": 0
                            },
                            "preGuidanceOpinion": {
                                "type": "string",
                                "title": "事前指导意见",
                                "x-decorator": "FormItem",
                                "x-component": "Input.TextArea",
                                "name": "preGuidanceOpinion",
                                "x-component-props": {
                                    "rows": 4,
                                    "placeholder": "由(项目主管/所长)填写"
                                },
                                "x-designable-id": "oug9etkfsy3",
                                "x-index": 1,
                                "x-validator": [],
                                "x-decorator-props": {}
                            }
                        }
                    }
                }
            }
        },
        "x-designable-id": "o5fn683n45h"
    }
}